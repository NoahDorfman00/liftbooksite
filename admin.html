<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>liftbook – Admin</title>
    <meta name="description" content="Admin panel for liftbook contact messages.">
    <link rel="preload" href="/assets/fonts/Schoolbell-Regular.ttf" as="font" type="font/ttf" crossorigin>
    <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32.png">
    <link rel="apple-touch-icon" href="/assets/images/app-icon.png">
    <meta name="theme-color" content="#f9faf9">
    <link rel="stylesheet" href="/styles.css">
</head>

<body>
    <header class="site-header">
        <div class="container">
            <a href="/" class="brand" style="text-decoration: none; color: inherit;">
                <img src="/assets/images/app-icon.png" alt="liftbook icon" class="brand-icon">
                <span class="brand-name">liftbook</span>
            </a>
            <nav>
                <button id="logout-btn" class="cta-button primary" style="display: none; border: none; cursor: pointer;">Logout</button>
            </nav>
        </div>
    </header>

    <main class="legal-main">
        <section class="section">
            <div class="container legal-content">
                <div id="login-section">
                    <h1>Admin Login</h1>
                    <p>Please sign in to access the admin panel.</p>
                    
                    <!-- Google Sign-In Button -->
                    <div style="margin-bottom: 24px;">
                        <button id="google-signin-btn" class="cta-button primary" style="width: 100%; justify-content: center;">
                            <svg width="18" height="18" viewBox="0 0 18 18" style="margin-right: 8px;">
                                <path fill="#4285F4" d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"/>
                                <path fill="#34A853" d="M9 18c2.43 0 4.467-.806 5.96-2.184l-2.908-2.258c-.806.54-1.837.86-3.052.86-2.347 0-4.33-1.585-5.04-3.715H.957v2.332C2.438 15.983 5.482 18 9 18z"/>
                                <path fill="#FBBC05" d="M3.96 10.703c-.18-.54-.282-1.117-.282-1.703s.102-1.163.282-1.703V4.965H.957C.348 6.175 0 7.55 0 9s.348 2.825.957 4.035l3.003-2.332z"/>
                                <path fill="#EA4335" d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 4.965L3.96 7.297C4.67 5.167 6.653 3.58 9 3.58z"/>
                            </svg>
                            Sign in with Google
                        </button>
                    </div>
                    <div id="login-message" class="form-message"></div>
                </div>

                <div id="admin-section" style="display: none;">
                    <h1>Contact Messages</h1>
                    <div class="admin-controls">
                        <button id="refresh-btn" class="cta-button primary">Refresh</button>
                        <label class="filter-label">
                            <input type="checkbox" id="show-attended" checked>
                            Show attended messages
                        </label>
                        <div class="filter-type-group">
                            <label class="filter-label">Filter by type:</label>
                            <select id="filter-type" class="filter-select">
                                <option value="all">All Types</option>
                                <option value="bug">Bug Reports</option>
                                <option value="feature">Feature Requests</option>
                                <option value="question">Questions</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div id="messages-container">
                        <p>Loading messages...</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container footer-grid">
            <div class="brand foot-brand">
                <span class="brand-name">liftbook</span>
            </div>
            <div class="meta">
                <span>© <span id="year"></span> liftbook</span>
            </div>
        </div>
    </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    
    <script src="/script.js"></script>
    <script src="/admin.js"></script>
</body>

</html>

